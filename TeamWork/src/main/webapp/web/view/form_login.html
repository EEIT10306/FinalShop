<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- main CSS -->
    <link rel="stylesheet" href="../style/form.css">
    
	<link rel="Shortcut Icon" type="image/x-icon" href="../images/others/web-icon.png" />
    
    <title>登入 Sign in</title>
</head>

<body>
    <form> <img src="../images/form-cat.png"
        />
        <h2>是會員嗎？趕快登入吧！</h2>
        <input type="text" name="email" placeholder="Email" required/>
        <span class="errorMsg" id="errorAccount"></span>
        <input type="password"name="password" placeholder="Password" required/>
        <span class="errorMsg" id="errorPassword"></span>
        <div class="feedback"></div>

        <input id="Login" class="button" type="button" value="Login">
        <p class="message">Not registered? <a href="form_reg.html">Create an account</a></p>
    </form>

    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<!--     <script src="js/main.js"></script> -->

    <script>
    $("#Login").click(function(e){

        var account = $("[name='email']").val();
        var password = $("[name='password']").val();

        $.ajax({
            type:"post",
            url:"/TeamWork/LoginServlet",
            data:{"m_account":account,"m_password":password},
            
            success:function(data){
            	$("#errorAccount").html("")
    			$("#errorPassword").html("")
            	
            	if(data=="accountNull"){
            		$("#errorAccount").html("請輸入帳號")
            	}
            	if(data=="passwordNull"){
            		$("#errorPassword").html("密碼須包含大寫字母、小寫字母、數字與特殊字元，且長度不能小於八個字元")
            	}
            	if(data== account){
            		alert("導到首頁")
            	}
            	if(data== "beanNull"){
            		$("#errorAccount").html("該帳號不存在或密碼錯誤")
            	}
            	
            }


        })
    })
    </script>
</body>

</html>